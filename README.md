# simpleProductManager
[博客地址](http://mchao.me/2016/07/26/PHP-mysqli-MVC%E6%A8%A1%E5%BC%8F-%E5%AE%9E%E7%8E%B0%E5%95%86%E5%93%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F)

MVC模式实现商品管理系统
一个简单的事例，对保存在一个数据库中的商品数据表实现增、删、改、查的操作，并采用MVC模式使用其结构清晰
![](http://mchao.me/img/in-post/in-post_dir.png)


#### 1.独立的密码文件password.inc.php
使用独立的密码文件可以提高系统的安全性。从理论上讲，PHP代码会在Web服务器上执行，网站的访问者而不应该看到任何PHP源码，只能看到它们生成的HTML结果文档。但这并不是绝对的，有很多意外情况会让个访问者看到明文的PHP
文件内容。为了安全起见，应该把MySQL登录信息单独保存到一个文件中去，再在配置文件中设置该文件禁止别人访问

#### 2.系统头部文件header.inc.php
此文件主要负责将信息显示在本系统中的每个输出页面上面。除了包含HTML语言开始标记、网页标题、样式等头部信息等外，还输出系统标题。如果系统需要用户成功登录才能使用，还可以在此文件中实现用户认证功能。该文件作为公用的头部文件，可以在每个系统管理界面中使用`require()`函数包含它

#### 3.系统尾部页面footer.inc.php
公用的尾部页面footer.inc.php和公用的头部文件相对于，显示在本系统中的每个输出页面的最下方。闭合必要的HTML标记

#### 4.商品类文件products_class.php
声明一个商品类，该类的对象是本例处理的主要数据

#### 5.数据库操作类公用文件MyDB_class.php
作为所有数据库的分类。在该类中声明一些在数据库操作时都会需要的公用成员属性和成员方法
在对数据库中任何一张表处理时，只要通过MyDB类并添加一些对应表的处理方法即可。

#### 6.商品表处理类文件productModel_class.php
通过扩展MyDB类声明操作表Product需要添加、删除、修改和查询的方法。是MVC模型中模型部分，对表Product的所有操作都在这个类中

#### 7.商品管理的首页index.php
商品管理的首页，是用户的主要操作页面，包括增删改某个商品的操作，使用`__autoload()`方法在需要每个类的时候自动加载进来。通过调用ProductModel类对象，并调用`selectAllProduct()`方法，从表中获取商品对象的数组，遍历该数组并以HTML表格的形式输出所有商品

#### 8.商品添加和修改页面editview.php
输出用户添加或者修改商品的表单操作界面，该页面也包含header.inc.php和footer.inc.php，它属于MVC中的视图（view）部分。
根据主页面中对用户操作事件的选择，在本页面中通过判断，输出商品添加的表单用户图形界面还是修改商品的用户操作页面

#### 9.事件的控制页面control.php
一个控制器（controller）页面，通过在用户的操作视图中，执行添加（add）、修改（modify）或删除（delete）的事件，控制器调用模型类对象中的方法，对商品表Product进行增、删、改操作

* 本例中页面index.php和editview.php为视图负责图形界面的输出。如果要美化操作界面，修改这两个文件即可
* MyDB_class.php和productModel_class.php为模型，主要是业务流程的处理过程，对其他层来说是黑箱操作，模型接受视图的请求数据，并返回最终的处理结果，业务模型的设计在php中是主要的核心
* 页面control.php为控制器页面，从用户那里接受请求，将模型也视图匹配在一起，共同完成用户的请求，控制器层是一个分发器，不做任何数据处理。


